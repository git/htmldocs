<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>git-for-each-ref(1)</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="manpage">
<div id="header">
<h1>
git-for-each-ref(1) Manual Page
</h1>
<h2>NAME</h2>
<div class="sectionbody">
<p>git-for-each-ref -
   Output information on each ref
</p>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git for-each-ref</em> [--count=&lt;count&gt;] [--shell|--perl|--python|--tcl]
                   [(--sort=&lt;key&gt;)&#8230;] [--format=&lt;format&gt;] [&lt;pattern&gt;&#8230;]
                   [--points-at &lt;object&gt;] [(--merged | --no-merged) [&lt;object&gt;]]
                   [--contains [&lt;object&gt;]]</pre>
<div class="attribution">
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph"><p>Iterate over all refs that match <code>&lt;pattern&gt;</code> and show them
according to the given <code>&lt;format&gt;</code>, after sorting them according
to the given set of <code>&lt;key&gt;</code>.  If <code>&lt;count&gt;</code> is given, stop after
showing that many refs.  The interpolated values in <code>&lt;format&gt;</code>
can optionally be quoted as string literals in the specified
host language allowing their direct evaluation in that language.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_options">OPTIONS</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
&lt;count&gt;
</dt>
<dd>
<p>
        By default the command shows all refs that match
        <code>&lt;pattern&gt;</code>.  This option makes it stop after showing
        that many refs.
</p>
</dd>
<dt class="hdlist1">
&lt;key&gt;
</dt>
<dd>
<p>
        A field name to sort on.  Prefix <code>-</code> to sort in
        descending order of the value.  When unspecified,
        <code>refname</code> is used.  You may use the --sort=&lt;key&gt; option
        multiple times, in which case the last key becomes the primary
        key.
</p>
</dd>
<dt class="hdlist1">
&lt;format&gt;
</dt>
<dd>
<p>
        A string that interpolates <code>%(fieldname)</code> from the
        object pointed at by a ref being shown.  If <code>fieldname</code>
        is prefixed with an asterisk (<code>*</code>) and the ref points
        at a tag object, the value for the field in the object
        tag refers is used.  When unspecified, defaults to
        <code>%(objectname) SPC %(objecttype) TAB %(refname)</code>.
        It also interpolates <code>%%</code> to <code>%</code>, and <code>%xx</code> where <code>xx</code>
        are hex digits interpolates to character with hex code
        <code>xx</code>; for example <code>%00</code> interpolates to <code>\0</code> (NUL),
        <code>%09</code> to <code>\t</code> (TAB) and <code>%0a</code> to <code>\n</code> (LF).
</p>
</dd>
<dt class="hdlist1">
&lt;pattern&gt;&#8230;
</dt>
<dd>
<p>
        If one or more patterns are given, only refs are shown that
        match against at least one pattern, either using fnmatch(3) or
        literally, in the latter case matching completely or from the
        beginning up to a slash.
</p>
</dd>
<dt class="hdlist1">
--shell
</dt>
<dt class="hdlist1">
--perl
</dt>
<dt class="hdlist1">
--python
</dt>
<dt class="hdlist1">
--tcl
</dt>
<dd>
<p>
        If given, strings that substitute <code>%(fieldname)</code>
        placeholders are quoted as string literals suitable for
        the specified host language.  This is meant to produce
        a scriptlet that can directly be `eval`ed.
</p>
</dd>
<dt class="hdlist1">
--points-at &lt;object&gt;
</dt>
<dd>
<p>
        Only list refs which points at the given object.
</p>
</dd>
<dt class="hdlist1">
--merged [&lt;object&gt;]
</dt>
<dd>
<p>
        Only list refs whose tips are reachable from the
        specified commit (HEAD if not specified).
</p>
</dd>
<dt class="hdlist1">
--no-merged [&lt;object&gt;]
</dt>
<dd>
<p>
        Only list refs whose tips are not reachable from the
        specified commit (HEAD if not specified).
</p>
</dd>
<dt class="hdlist1">
--contains [&lt;object&gt;]
</dt>
<dd>
<p>
        Only list refs which contain the specified commit (HEAD if not
        specified).
</p>
</dd>
<dt class="hdlist1">
--ignore-case
</dt>
<dd>
<p>
        Sorting and filtering refs are case insensitive.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_field_names">FIELD NAMES</h2>
<div class="sectionbody">
<div class="paragraph"><p>Various values from structured fields in referenced objects can
be used to interpolate into the resulting output, or as sort
keys.</p></div>
<div class="paragraph"><p>For all objects, the following names can be used:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
refname
</dt>
<dd>
<p>
        The name of the ref (the part after $GIT_DIR/).
        For a non-ambiguous short name of the ref append <code>:short</code>.
        The option core.warnAmbiguousRefs is used to select the strict
        abbreviation mode. If <code>lstrip=&lt;N&gt;</code> (<code>rstrip=&lt;N&gt;</code>) is appended, strips <code>&lt;N&gt;</code>
        slash-separated path components from the front (back) of the refname
        (e.g. <code>%(refname:lstrip=2)</code> turns <code>refs/tags/foo</code> into <code>foo</code> and
        <code>%(refname:rstrip=2)</code> turns <code>refs/tags/foo</code> into <code>refs</code>).
        If <code>&lt;N&gt;</code> is a negative number, strip as many path components as
        necessary from the specified end to leave <code>-&lt;N&gt;</code> path components
        (e.g. <code>%(refname:lstrip=-2)</code> turns
        <code>refs/tags/foo</code> into <code>tags/foo</code> and <code>%(refname:rstrip=-1)</code>
        turns <code>refs/tags/foo</code> into <code>refs</code>). When the ref does not have
        enough components, the result becomes an empty string if
        stripping with positive &lt;N&gt;, or it becomes the full refname if
        stripping with negative &lt;N&gt;.  Neither is an error.
</p>
<div class="paragraph"><p><code>strip</code> can be used as a synomym to <code>lstrip</code>.</p></div>
</dd>
<dt class="hdlist1">
objecttype
</dt>
<dd>
<p>
        The type of the object (<code>blob</code>, <code>tree</code>, <code>commit</code>, <code>tag</code>).
</p>
</dd>
<dt class="hdlist1">
objectsize
</dt>
<dd>
<p>
        The size of the object (the same as <em>git cat-file -s</em> reports).
</p>
</dd>
<dt class="hdlist1">
objectname
</dt>
<dd>
<p>
        The object name (aka SHA-1).
        For a non-ambiguous abbreviation of the object name append <code>:short</code>.
        For an abbreviation of the object name with desired length append
        <code>:short=&lt;length&gt;</code>, where the minimum length is MINIMUM_ABBREV. The
        length may be exceeded to ensure unique object names.
</p>
</dd>
<dt class="hdlist1">
upstream
</dt>
<dd>
<p>
        The name of a local ref which can be considered &#8220;upstream&#8221;
        from the displayed ref. Respects <code>:short</code>, <code>:lstrip</code> and
        <code>:rstrip</code> in the same way as <code>refname</code> above.  Additionally
        respects <code>:track</code> to show "[ahead N, behind M]" and
        <code>:trackshort</code> to show the terse version: "&gt;" (ahead), "&lt;"
        (behind), "&lt;&gt;" (ahead and behind), or "=" (in sync). <code>:track</code>
        also prints "[gone]" whenever unknown upstream ref is
        encountered. Append <code>:track,nobracket</code> to show tracking
        information without brackets (i.e "ahead N, behind M").  Has
        no effect if the ref does not have tracking information
        associated with it.  All the options apart from <code>nobracket</code>
        are mutually exclusive, but if used together the last option
        is selected.
</p>
</dd>
<dt class="hdlist1">
push
</dt>
<dd>
<p>
        The name of a local ref which represents the <code>@{push}</code>
        location for the displayed ref. Respects <code>:short</code>, <code>:lstrip</code>,
        <code>:rstrip</code>, <code>:track</code>, and <code>:trackshort</code> options as <code>upstream</code>
        does. Produces an empty string if no <code>@{push}</code> ref is
        configured.
</p>
</dd>
<dt class="hdlist1">
HEAD
</dt>
<dd>
<p>
        <em>*</em> if HEAD matches current ref (the checked out branch), ' '
        otherwise.
</p>
</dd>
<dt class="hdlist1">
color
</dt>
<dd>
<p>
        Change output color.  Followed by <code>:&lt;colorname&gt;</code>, where names
        are described in <code>color.branch.*</code>.
</p>
</dd>
<dt class="hdlist1">
align
</dt>
<dd>
<p>
        Left-, middle-, or right-align the content between
        %(align:&#8230;) and %(end). The "align:" is followed by
        <code>width=&lt;width&gt;</code> and <code>position=&lt;position&gt;</code> in any order
        separated by a comma, where the <code>&lt;position&gt;</code> is either left,
        right or middle, default being left and <code>&lt;width&gt;</code> is the total
        length of the content with alignment. For brevity, the
        "width=" and/or "position=" prefixes may be omitted, and bare
        &lt;width&gt; and &lt;position&gt; used instead.  For instance,
        <code>%(align:&lt;width&gt;,&lt;position&gt;)</code>. If the contents length is more
        than the width then no alignment is performed. If used with
        <code>--quote</code> everything in between %(align:&#8230;) and %(end) is
        quoted, but if nested then only the topmost level performs
        quoting.
</p>
</dd>
<dt class="hdlist1">
if
</dt>
<dd>
<p>
        Used as %(if)&#8230;%(then)&#8230;%(end) or
        %(if)&#8230;%(then)&#8230;%(else)&#8230;%(end).  If there is an atom with
        value or string literal after the %(if) then everything after
        the %(then) is printed, else if the %(else) atom is used, then
        everything after %(else) is printed. We ignore space when
        evaluating the string before %(then), this is useful when we
        use the %(HEAD) atom which prints either "*" or " " and we
        want to apply the <em>if</em> condition only on the <em>HEAD</em> ref.
        Append ":equals=&lt;string&gt;" or ":notequals=&lt;string&gt;" to compare
        the value between the %(if:&#8230;) and %(then) atoms with the
        given string.
</p>
</dd>
<dt class="hdlist1">
symref
</dt>
<dd>
<p>
        The ref which the given symbolic ref refers to. If not a
        symbolic ref, nothing is printed. Respects the <code>:short</code>,
        <code>:lstrip</code> and <code>:rstrip</code> options in the same way as <code>refname</code>
        above.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>In addition to the above, for commit and tag objects, the header
field names (<code>tree</code>, <code>parent</code>, <code>object</code>, <code>type</code>, and <code>tag</code>) can
be used to specify the value in the header field.</p></div>
<div class="paragraph"><p>For commit and tag objects, the special <code>creatordate</code> and <code>creator</code>
fields will correspond to the appropriate date or name-email-date tuple
from the <code>committer</code> or <code>tagger</code> fields depending on the object type.
These are intended for working on a mix of annotated and lightweight tags.</p></div>
<div class="paragraph"><p>Fields that have name-email-date tuple as its value (<code>author</code>,
<code>committer</code>, and <code>tagger</code>) can be suffixed with <code>name</code>, <code>email</code>,
and <code>date</code> to extract the named component.</p></div>
<div class="paragraph"><p>The complete message in a commit and tag object is <code>contents</code>.
Its first line is <code>contents:subject</code>, where subject is the concatenation
of all lines of the commit message up to the first blank line.  The next
line is <em>contents:body</em>, where body is all of the lines after the first
blank line.  The optional GPG signature is <code>contents:signature</code>.  The
first <code>N</code> lines of the message is obtained using <code>contents:lines=N</code>.
Additionally, the trailers as interpreted by <a href="git-interpret-trailers.html">git-interpret-trailers(1)</a>
are obtained as <em>contents:trailers</em>.</p></div>
<div class="paragraph"><p>For sorting purposes, fields with numeric values sort in numeric order
(<code>objectsize</code>, <code>authordate</code>, <code>committerdate</code>, <code>creatordate</code>, <code>taggerdate</code>).
All other fields are used to sort in their byte-value order.</p></div>
<div class="paragraph"><p>There is also an option to sort by versions, this can be done by using
the fieldname <code>version:refname</code> or its alias <code>v:refname</code>.</p></div>
<div class="paragraph"><p>In any case, a field name that refers to a field inapplicable to
the object referred by the ref does not cause an error.  It
returns an empty string instead.</p></div>
<div class="paragraph"><p>As a special case for the date-type fields, you may specify a format for
the date by adding <code>:</code> followed by date format name (see the
values the <code>--date</code> option to <a href="git-rev-list.html">git-rev-list(1)</a> takes).</p></div>
<div class="paragraph"><p>Some atoms like %(align) and %(if) always require a matching %(end).
We call them "opening atoms" and sometimes denote them as %($open).</p></div>
<div class="paragraph"><p>When a scripting language specific quoting is in effect, everything
between a top-level opening atom and its matching %(end) is evaluated
according to the semantics of the opening atom and only its result
from the top-level is quoted.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_examples">EXAMPLES</h2>
<div class="sectionbody">
<div class="paragraph"><p>An example directly producing formatted text.  Show the most recent
3 tagged commits:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>#!/bin/sh

git for-each-ref --count=3 --sort='-*authordate' \
--format='From: %(*authorname) %(*authoremail)
Subject: %(*subject)
Date: %(*authordate)
Ref: %(*refname)

%(*body)
' 'refs/tags'</code></pre>
</div></div>
<div class="paragraph"><p>A simple example showing the use of shell eval on the output,
demonstrating the use of --shell.  List the prefixes of all heads:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>#!/bin/sh

git for-each-ref --shell --format="ref=%(refname)" refs/heads | \
while read entry
do
        eval "$entry"
        echo `dirname $ref`
done</code></pre>
</div></div>
<div class="paragraph"><p>A bit more elaborate report on tags, demonstrating that the format
may be an entire script:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>#!/bin/sh

fmt='
        r=%(refname)
        t=%(*objecttype)
        T=${r#refs/tags/}

        o=%(*objectname)
        n=%(*authorname)
        e=%(*authoremail)
        s=%(*subject)
        d=%(*authordate)
        b=%(*body)

        kind=Tag
        if test "z$t" = z
        then
                # could be a lightweight tag
                t=%(objecttype)
                kind="Lightweight tag"
                o=%(objectname)
                n=%(authorname)
                e=%(authoremail)
                s=%(subject)
                d=%(authordate)
                b=%(body)
        fi
        echo "$kind $T points at a $t object $o"
        if test "z$t" = zcommit
        then
                echo "The commit was authored by $n $e
at $d, and titled

    $s

Its message reads as:
"
                echo "$b" | sed -e "s/^/    /"
                echo
        fi
'

eval=`git for-each-ref --shell --format="$fmt" \
        --sort='*objecttype' \
        --sort=-taggerdate \
        refs/tags`
eval "$eval"</code></pre>
</div></div>
<div class="paragraph"><p>An example to show the usage of %(if)&#8230;%(then)&#8230;%(else)&#8230;%(end).
This prefixes the current branch with a star.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>git for-each-ref --format="%(if)%(HEAD)%(then)* %(else)  %(end)%(refname:short)" refs/heads/</code></pre>
</div></div>
<div class="paragraph"><p>An example to show the usage of %(if)&#8230;%(then)&#8230;%(end).
This prints the authorname, if present.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>git for-each-ref --format="%(refname)%(if)%(authorname)%(then) Authored by: %(authorname)%(end)"</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph"><p><a href="git-show-ref.html">git-show-ref(1)</a></p></div>
</div>
</div>
<div class="sect1">
<h2 id="_git">GIT</h2>
<div class="sectionbody">
<div class="paragraph"><p>Part of the <a href="git.html">git(1)</a> suite</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2017-02-27 15:37:25 PST
</div>
</div>
</body>
</html>
